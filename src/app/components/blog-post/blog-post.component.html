<article class="w-full flex flex-col items-center">
	<div>
		@if (blogPost) {
		<div class="blog-post container w-full flex flex-col gap-6">
			<p-divider>
				<h2 class="text-center">{{ blogPost.title }}</h2>
			</p-divider>
			<div class="self-center">
				<!-- FULL IMG -->
				<p-image
					[src]="blogPost.image"
					[alt]="blogPost.title"
					[preview]="true"
					class=""
				>
					<ng-template pTemplate="indicator">
						<i class="pi pi-search"></i>
					</ng-template>
					<ng-template pTemplate="image">
						<!-- PREVIEW IMG -->
						<img
							[src]="blogPost.image"
							[alt]="blogPost.title"
							width="350"
							class="rounded-md overflow-hidden"
						/>
					</ng-template>
					<ng-template
						pTemplate="preview"
						let-style="style"
						let-previewCallback="previewCallback"
					>
						<div class="m-auto flex justify-center">
							<img
								[src]="blogPost.image"
								[alt]="blogPost.title"
								[style]="style"
								(click)="previewCallback()"
								class="max-w-[80%]"
							/>
						</div>
					</ng-template>
				</p-image>
			</div>
			<p
				class="max-w-[60ch] md:max-w-[75ch] leading-relaxed break-words hyphens-auto text-pretty"
				[innerHTML]="blogPost.content"
			></p>
			<div
				class="post-footer flex flex-col justify-start gap-4 text-muted-color"
			>
				<p>Author: {{ blogPost.author }}</p>
				<p class="text-muted-color">{{ blogPost.date | date }}</p>
				<p-button
					[rounded]="true"
					styleClass="min-w-[68px] flex gap-2"
					[raised]="true"
					[label]="blogPost.likes.toString()"
					(click)="toggleLike()"
				>
					<i
						class="pi"
						[class.pi-heart-fill]="blogPost.likedByUser"
						[class.pi-heart]="!blogPost.likedByUser"
						[class.animated]="likeToggled"
						(animationend)="resetAnimation()"
					></i>
				</p-button>
			</div>
			<p-divider>Comments:</p-divider>

			<!-- <p-card> -->
				<p-fieldset styleClass="max-w-[80%]">
					<ng-template #header>
						<div class="flex items-center gap-2 px-1">
							<p-avatar icon="pi pi-user" shape="circle" />
							<span class="font-bold">{{ blogPost.author }}</span>
						</div>
					</ng-template>
					<p class="m-6 mt-2">
						Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
						eiusmod tempor incididunt ut labore et dolore magna aliqua.
					</p>
					<i></i>
				</p-fieldset>
			<!-- </p-card> -->
		</div>
		} @else {
		{{ notFound }}
		}
		<ng-template #notFound>
			<p>Blog post not found...</p>
		</ng-template>
	</div>
</article>
